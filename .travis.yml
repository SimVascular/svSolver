os:
  - linux
  - osx

dist:
  - trusty

sudo:
  - required

addons:
apt:
  packages:
  - gfortran
  - libglu1-mesa-dev
  - libgl1-mesa-dev
  - libmpich2-dev


matrix:
  include:
    - os: linux
      dist: trusty
      sudo: required
      compiler: gcc
      addons:
      apt:
        packages:
        - gfortran
        - libglu1-mesa-dev
        - libgl1-mesa-dev
        - libmpich2-dev
    - os: osx
      osx_image: xcode7.3
      compiler: clang

language: cpp

env:
  - WITH_CMAKE=true BUILD_VTK=true
  - WITH_CMAKE=true BUILD_VTK=false
matrix:
 allow_failures:
  - env: WITH_CMAKE=true BUILD_VTK=false

git:
  submodules: false

before_install:
  - export NUM_THREADS=4
  - export cwd=$(pwd)
  - export SCRIPTS=$cwd/travis
  - export BUILD_DIR=$cwd/build
  - export SV_TOP_DIR=$cwd

cache:
  directories:

before_script:
  - $SCRIPTS/travis_before_script_cleanup.sh
  #- if ! $WITH_CMAKE; then $ fi

script: $SCRIPTS/travis_build.sh

